import "../lexer.lumina"

if (argc < 2) {
	print("[ERROR] expected argument <filename>\n");
	exit(1);
}

if (argc > 2) {
	print("[ERROR] expected a single argument\n");
	exit(1);
}

var fileName = argv[1];

var lexer = createLexer(fileName);

var token = nextToken(lexer);

while (token.isEOF == (bool)0) {
	if (isString(token)) {
		printPosition(token.string.region.start);
		print(" ");
		print(token.string.value);
		print("\n");
	}

	token = nextToken(lexer);
}
